{"version":3,"file":"ExponentDeviceMotion.web.js","sourceRoot":"","sources":["../src/ExponentDeviceMotion.web.ts"],"names":[],"mappings":"AAAA,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAE9C,MAAM,oBAAqB,SAAQ,cAAc;IAAjD;;QASE,qBAAgB,GAAG,KAAK,IAAsB,EAAE;YAC9C,OAAO,iBAAiB,KAAK,SAAS,CAAC;QACzC,CAAC,CAAC;QAEF,kBAAa,GAAG,CAAC,EAAE,YAAY,EAAE,4BAA4B,EAAE,YAAY,EAAE,EAAE,EAAE;YAC/E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uBAAuB,EAAE;gBACzC,YAAY;gBACZ,4BAA4B;gBAC5B,YAAY;gBACZ,iDAAiD;gBACjD,cAAc;gBACd,sBAAsB;gBACtB,qBAAqB;gBACrB,sBAAsB;gBACtB,KAAK;gBACL,WAAW,EAAE,MAAM,CAAC,WAAW;aAChC,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,mBAAc,GAAG,GAAG,EAAE;YACpB,MAAM,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QACpE,CAAC,CAAC;QAEF,kBAAa,GAAG,GAAG,EAAE;YACnB,MAAM,CAAC,mBAAmB,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QACvE,CAAC,CAAC;IACJ,CAAC;IAlCC,IAAI,IAAI;QACN,OAAO,sBAAsB,CAAC;IAChC,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC;IACd,CAAC;CA4BF;AAED,eAAe,IAAI,oBAAoB,EAAE,CAAC","sourcesContent":["import PlatformModule from './PlatformModule';\n\nclass ExponentDeviceMotion extends PlatformModule {\n  get name(): string {\n    return 'ExponentDeviceMotion';\n  }\n\n  get Gravity() {\n    return 9.81;\n  }\n\n  isAvailableAsync = async (): Promise<boolean> => {\n    return DeviceMotionEvent !== undefined;\n  };\n\n  _handleMotion = ({ acceleration, accelerationIncludingGravity, rotationRate }) => {\n    this.emitter.emit('deviceMotionDidUpdate', {\n      acceleration,\n      accelerationIncludingGravity,\n      rotationRate,\n      // // https://stackoverflow.com/a/5493592/4047926\n      // rotation: {\n      //   alpha: undefined,\n      //   beta: undefined,\n      //   gamma: undefined,\n      // },\n      orientation: window.orientation,\n    });\n  };\n\n  startObserving = () => {\n    window.addEventListener('devicemotion', this._handleMotion, true);\n  };\n\n  stopObserving = () => {\n    window.removeEventListener('devicemotion', this._handleMotion, true);\n  };\n}\n\nexport default new ExponentDeviceMotion();\n"]}